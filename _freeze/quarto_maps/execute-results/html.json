{
  "hash": "d111b214af781b9758ad2f96714519b7",
  "result": {
    "engine": "knitr",
    "markdown": "With the [leaflet package](https://r-graph-gallery.com/package/leaflet.html), it is easy to include an interactive map into a quarto document.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(here, leaflet)\nhere::i_am(\"images_in_R_plots.qmd\")\n```\n:::\n\n\n# First map\n\nThis example is taken from their [documentation](https://rstudio.github.io/leaflet/articles/leaflet.html).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm <- leaflet()\nm <- addTiles(m)\nm <- addMarkers(m, lng=174.768, lat=-36.852, popup=\"The birthplace of R\")\nm\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-940f607979897f11ee77\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-940f607979897f11ee77\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addMarkers\",\"args\":[-36.852,174.768,null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},\"The birthplace of R\",null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[-36.852,-36.852],\"lng\":[174.768,174.768]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n# Let's find SLU on the map\n\nFirst we render a map of the entire world.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(leaflet)\nm <- leaflet() %>% addTiles()\nm  # a map with the default OSM tile layer\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-6907d94e5fc9a1febb3c\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-6907d94e5fc9a1febb3c\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]}]},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nThen we hone in on Sweden. The coordinates here are in the format `(longitude east, latitude south, longitude west, latitude north)`. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nm %>% fitBounds(15, 55, 17, 70)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-9ddb61b2cbf6675f7fe6\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-9ddb61b2cbf6675f7fe6\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]}],\"fitBounds\":[55,15,70,17,[]]},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nLet's find Uppsala - rough coordinates taken from the web, the rest is try-and-error. I am sure there is a better way to do this. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nm %>% fitBounds(17.6, 59.78, 17.67, 59.9)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-a11c17b9fe97f826af79\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a11c17b9fe97f826af79\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]}],\"fitBounds\":[59.78,17.6,59.9,17.67,[]]},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nAnd once we have found the campus we can add a marker. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nm %>% fitBounds(17.6542, 59.812, 17.6543, 59.819)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-b10d6e6486bb8931212f\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-b10d6e6486bb8931212f\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]}],\"fitBounds\":[59.812,17.6542,59.819,17.6543,[]]},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n\n```{.r .cell-code}\nm %>% addMarkers(m, lng=17.6543, lat=59.816, popup=\"SLU campus\n\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-2dcac9abaf5a604cf6d0\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-2dcac9abaf5a604cf6d0\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addMarkers\",\"args\":[59.816,17.6543,null,{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]}]},\"width\":null,\"height\":null,\"sizingPolicy\":{\"defaultWidth\":\"100%\",\"defaultHeight\":400,\"padding\":0,\"fill\":null,\"viewer\":{\"defaultWidth\":null,\"defaultHeight\":null,\"padding\":null,\"fill\":true,\"suppress\":false,\"paneHeight\":null},\"browser\":{\"defaultWidth\":null,\"defaultHeight\":null,\"padding\":null,\"fill\":true,\"external\":false},\"knitr\":{\"defaultWidth\":null,\"defaultHeight\":null,\"figure\":true}},\"dependencies\":[{\"name\":\"jquery\",\"version\":\"3.6.0\",\"src\":{\"file\":\"lib/3.6.0\"},\"meta\":null,\"script\":\"jquery-3.6.0.min.js\",\"stylesheet\":null,\"head\":null,\"attachment\":null,\"package\":\"jquerylib\",\"all_files\":true},{\"name\":\"leaflet\",\"version\":\"1.3.1\",\"src\":{\"file\":\"htmlwidgets/lib/leaflet\"},\"meta\":null,\"script\":\"leaflet.js\",\"stylesheet\":\"leaflet.css\",\"head\":null,\"attachment\":null,\"package\":\"leaflet\",\"all_files\":true},{\"name\":\"leafletfix\",\"version\":\"1.0.0\",\"src\":{\"file\":\"htmlwidgets/lib/leafletfix\"},\"meta\":null,\"script\":null,\"stylesheet\":\"leafletfix.css\",\"head\":null,\"attachment\":null,\"package\":\"leaflet\",\"all_files\":true},{\"name\":\"proj4\",\"version\":\"2.6.2\",\"src\":{\"file\":\"htmlwidgets/plugins/Proj4Leaflet\"},\"meta\":null,\"script\":\"proj4.min.js\",\"stylesheet\":null,\"head\":null,\"attachment\":null,\"package\":\"leaflet\",\"all_files\":false},{\"name\":\"Proj4Leaflet\",\"version\":\"1.0.1\",\"src\":{\"file\":\"htmlwidgets/plugins/Proj4Leaflet\"},\"meta\":null,\"script\":\"proj4leaflet.js\",\"stylesheet\":null,\"head\":null,\"attachment\":null,\"package\":\"leaflet\",\"all_files\":false},{\"name\":\"rstudio_leaflet\",\"version\":\"1.3.1\",\"src\":{\"file\":\"htmlwidgets/lib/rstudio_leaflet\"},\"meta\":null,\"script\":null,\"stylesheet\":\"rstudio_leaflet.css\",\"head\":null,\"attachment\":null,\"package\":\"leaflet\",\"all_files\":true},{\"name\":\"leaflet-binding\",\"version\":\"2.2.2\",\"src\":{\"file\":\"htmlwidgets/assets\"},\"meta\":null,\"script\":\"leaflet.js\",\"stylesheet\":null,\"head\":null,\"attachment\":null,\"package\":\"leaflet\",\"all_files\":false}],\"elementId\":null,\"preRenderHook\":[\"function (widget) \",\"{\",\"    if (!is.null(widget$jsHooks$render)) {\",\"        widget$jsHooks$render <- lapply(widget$jsHooks$render, \",\"            function(hook) {\",\"                if (is.list(hook)) {\",\"                  hook$code <- sprintf(hookWrapperTemplate, paste(hook$code, \",\"                    collapse = \\\"\\\\n\\\"))\",\"                }\",\"                else if (is.character(hook)) {\",\"                  hook <- sprintf(hookWrapperTemplate, paste(hook, \",\"                    collapse = \\\"\\\\n\\\"))\",\"                }\",\"                else {\",\"                  stop(\\\"Unknown hook class \\\", class(hook))\",\"                }\",\"                hook\",\"            })\",\"    }\",\"    widget\",\"}\"],\"jsHooks\":[]},null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},\"SLU campus\\n\",null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[59.816,59.816],\"lng\":[17.6543,17.6543]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"site_libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/leaflet-1.3.1/leaflet.js\"></script>\n<link href=\"site_libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/proj4-2.6.2/proj4.min.js\"></script>\n<script src=\"site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\n<link href=\"site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/leaflet-binding-2.2.2/leaflet.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}